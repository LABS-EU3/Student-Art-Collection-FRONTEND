{"version":3,"sources":["Views/ArtViewModalStyling.js","Assets/message.svg","Components/BuyModalComponents/SuccessfulPurchase.js","Assets/purchasesuccess.svg","Components/BuyModalComponents/DisplayArtModal.js","helpers/distance.js","Views/ArtViewModal.js"],"names":["StyledModal","styled","div","props","theme","lightGrey","white","black","buttonOrange","openModalStyling","display","StyledSuccessfulModal","module","exports","connect","state","actionCreators","className","style","browseArtState","artModalOpen","onClick","closeModal","src","Success","alt","artInModal","_id","length","picture","name","artistName","loggedInUser","to","Object","keys","userId","Message","description","price","height","width","type","userLocation","buyer","lat","latitude","lng","longitude","school","poolat","poolng","destlat","destlng","Math","sqrt","pow","calculateDistance","toFixed","distance","quantity","backgroundColor","cursor","clickBuy","title","useState","requestingPurchase","e","target","toggleViewModal","history","push","justifyContent","alignItems","Spinner","exact","path","render","SuccessfulPurchase","position","bodyClassName","autoClose","closeButton"],"mappings":"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","file":"static/js/14.3ced63da.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nexport const StyledModal = styled.div`\r\n.close {\r\nwidth: 100vw;\r\nheight: 100vh;\r\nbackground-color: ${props => props.theme.lightGrey};  \r\nposition: fixed;\r\nz-index: 999;\r\ndisplay: none\r\n\r\n.modal {\r\n  width: 80vw;\r\n  height: 80vh;\r\n  display: flex;\r\n  background-color: ${props => props.theme.white};\r\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n  @media(max-width:700px) {\r\n    width: 95vw;\r\n    height: 95vh;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n    .left-modal{\r\n      width: 50%;\r\n      height: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      @media(max-width:700px) {\r\n        width: 100vw;\r\n        height: 50%;\r\n      }\r\n\r\n      .cont {\r\n        width: 80%;\r\n        \r\n        @media(max-width:700px) {\r\n          width: 40%;\r\n          margin-top: 2rem;\r\n        }\r\n\r\n        @media(max-width:550px) {\r\n          width: 60%;\r\n          margin-top: 2rem;\r\n        }\r\n        img {\r\n          width: 100%;\r\n          max-height: auto;\r\n        }\r\n      }\r\n    }\r\n\r\n    .right-modal {\r\n      height: 100%;\r\n      width: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      @media(max-width:700px) {\r\n        width: 100vw;\r\n        justify-content: center;\r\n      }\r\n\r\n      .cont {\r\n        width: 90%;\r\n        height: 70%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n\r\n      h1 {\r\n        width: 80%;\r\n        font-size: 4.5rem;\r\n        margin-bottom: 0.6rem;\r\n\r\n        @media(max-width:1200px) {\r\n          font-size: 3.5rem;\r\n          width: 90%;\r\n        }\r\n\r\n        @media(max-width:700px) {\r\n       font-size: 2rem;\r\n        }\r\n      }\r\n\r\n      h2 {\r\n        font-size: 2rem;\r\n        color: ${props => props.theme.black};\r\n\r\n        @media(max-width:1200px) {\r\n          font-size: 1.8rem;\r\n        }\r\n\r\n        @media(max-width:700px) {\r\n          font-size: 1.4rem;\r\n           }\r\n      }\r\n\r\n      h3 {\r\n        font-size: 3.5rem;\r\n        color: ${props => props.theme.lightGrey};\r\n        margin-bottom: 5px;\r\n\r\n        @media(max-width:1200px) {\r\n          font-size: 2.5rem;\r\n        }\r\n\r\n        @media(max-width:700px) {\r\n          font-size: 1.8remem;\r\n           }\r\n      } \r\n\r\n       .img-cont{\r\n        width: 30px;\r\n\r\n         img {\r\n          max-width: 100%;\r\n          height: auto;\r\n           :hover {\r\n             opacity: 0.5;\r\n           }\r\n        }\r\n      }\r\n      \r\n      h4 {\r\n        font-size: 1.4rem;\r\n        color: ${props => props.theme.lightGrey};\r\n      }\r\n\r\n      h5 {\r\n        font-size: 1.7rem;\r\n        color: ${props => props.theme.black};\r\n        margin-top: 1rem;\r\n      }\r\n       p {\r\n         font-size: 1.3rem;\r\n         line-height: 120%;\r\n         margin-bottom: 20px;\r\n\r\n         @media(max-width:1200px) {\r\n          font-size: 1rem;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        @media(max-width:700px) {\r\n          font-size: 0.95rem;\r\n           }\r\n       }\r\n\r\n      button {\r\n        width: 100%;\r\n        background-color: ${props => props.theme.buttonOrange};\r\n        color: ${props => props.theme.white};\r\n        border: none;\r\n        border-radius: 5px;\r\n        font-size: 2rem;\r\n        padding: 0.6rem 5rem;\r\n        cursor: pointer;  \r\n\r\n        @media(max-width: 900px){\r\n          font-size: 1.5rem;\r\n        }\r\n\r\n        &:focus {\r\n          outline: none;\r\n          border: none\r\n        }\r\n        &:hover {\r\n          opacity: 0.7;\r\n          transition: opacity 0.1s ease-in-out;\r\n        }\r\n        }\r\n\r\n        &:focus {\r\n          outline: none;\r\n          border: none\r\n        }\r\n      }\r\n      }\r\n    }\r\n    }\r\n  }\r\n}\r\n`;\r\nexport const openModalStyling = {\r\n  display: 'flex'\r\n};\r\n\r\nexport const StyledSuccessfulModal = styled.div`\r\nwidth: 80vw;\r\n  height: 80vh;\r\n  display: flex;\r\n  background-color: ${props => props.theme.white};\r\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n\r\n  .img-cont {\r\n    width: 40%;\r\n    margin-top: 2rem;\r\n\r\n    img {\r\n      max-width: 100%;\r\n      height: auto;\r\n    }\r\n  }\r\n\r\n  h1 {\r\n    font-size: 4rem;\r\n    max-width: 80%;\r\n  }\r\n\r\n  p {\r\n    width: 60%;\r\n    font-size: 1.6rem;\r\n    margin: 2rem 0 10rem 0;\r\n    line-height: 2rem;\r\n    text-align: center;\r\n\r\n     span {\r\n       color: red;\r\n     }\r\n  }\r\n\r\n  @media(max-width:700px) {\r\n    width: 95vw;\r\n    height: 95vh;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n`\r\n","module.exports = __webpack_public_path__ + \"static/media/message.b98bddd1.svg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreators from '../../store/Actions/actionCreators';\r\nimport { StyledModal, openModalStyling, StyledSuccessfulModal } from '../../Views/ArtViewModalStyling';\r\nimport Success from '../../Assets/purchasesuccess.svg'\r\n\r\n\r\nfunction SuccessfulPurchase(props) {\r\n    return (\r\n        <StyledModal >\r\n            <div className='close' style={props.browseArtState.artModalOpen ? openModalStyling : null} onClick={props.closeModal}>\r\n                <StyledSuccessfulModal>\r\n                    <div className=\"img-cont\">\r\n                        <img src={Success} alt='Purchase successfull' />\r\n                    </div>\r\n                    <h1>Purchase Successful!</h1>\r\n                    <p>Order of item <span>#{props.browseArtState.artInModal._id}</span> was a success. You can contact the seller\r\n                    through your dashboard or await contact regarding payment and collection.</p>\r\n                </StyledSuccessfulModal>\r\n            </div>\r\n        </StyledModal>\r\n    )\r\n}\r\n\r\nexport default connect(state => state, actionCreators)(SuccessfulPurchase);","module.exports = __webpack_public_path__ + \"static/media/purchasesuccess.64b4dc01.svg\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreators from '../../store/Actions/actionCreators';\r\nimport { Link } from 'react-router-dom';\r\nimport { StyledModal, openModalStyling } from '../../Views/ArtViewModalStyling';\r\nimport Message from '../../Assets/message.svg';\r\nimport calculateDistance from '../../helpers/distance';\r\n\r\nfunction DisplayArt(props) {\r\n  let length;\r\n  const distance = () => {\r\n    const { userLocation } = props.loggedInUser;\r\n    const { userId } =\r\n      Object.keys(props.browseArtState.artInModal).length &&\r\n      props.browseArtState.artInModal.userId;\r\n    if (userId && userLocation) {\r\n      const buyer = {\r\n        lat: userLocation.latitude,\r\n        lng: userLocation.longitude\r\n      };\r\n      const school = {\r\n        lat: userId.userLocation.latitude,\r\n        lng: userId.userLocation.longitude\r\n      };\r\n      length = calculateDistance(buyer, school).toFixed(3);\r\n    }\r\n    return length;\r\n  };\r\n  return (\r\n    <StyledModal>\r\n      <div\r\n        className=\"close\"\r\n        style={props.browseArtState.artModalOpen ? openModalStyling : null}\r\n        onClick={props.closeModal}\r\n      >\r\n        <div className=\"modal\">\r\n          <div className=\"left-modal\">\r\n            <div className=\"cont\">\r\n              <img\r\n                src={props.browseArtState.artInModal.picture}\r\n                alt={props.browseArtState.artInModal.name}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"right-modal\">\r\n            <div className=\"cont\">\r\n              <div className=\"title\">\r\n                <h1>{props.browseArtState.artInModal.name}</h1>\r\n                <h2>\r\n                  by{' '}\r\n                  {props.browseArtState.artInModal.artistName\r\n                    ? props.browseArtState.artInModal.artistName\r\n                    : 'Anonymous'}{' '}\r\n                </h2>\r\n                {props.loggedInUser._id ? (\r\n                  <Link\r\n                    to={`/myaccount/newmessage/${\r\n                      Object.keys(props.browseArtState.artInModal).length\r\n                        ? props.browseArtState.artInModal.userId._id\r\n                        : null\r\n                    }`}\r\n                  >\r\n                    <div className=\"img-cont\">\r\n                      <img src={Message} alt=\"message envelope\" />\r\n                    </div>\r\n                  </Link>\r\n                ) : null}\r\n              </div>\r\n              <div className=\"about\">\r\n                {props.browseArtState.artInModal.description\r\n                  ? props.browseArtState.artInModal.description\r\n                  : 'No description provided'}\r\n              </div>\r\n              <div className=\"price\">\r\n                <h3>${props.browseArtState.artInModal.price}.00</h3>\r\n                <h4>\r\n                  {props.browseArtState.artInModal.height}cm x{' '}\r\n                  {props.browseArtState.artInModal.width}cm\r\n                </h4>\r\n                {props.loggedInUser ? (\r\n                  props.loggedInUser.type === 'buyer' ? (\r\n                    props.loggedInUser.userLocation ? (\r\n                      <h5> {distance()}km away </h5>\r\n                    ) : null\r\n                  ) : null\r\n                ) : null}\r\n                <h5>\r\n                  Quantity:{' '}\r\n                  {props.browseArtState.artInModal.quantity < 1 ||\r\n                  props.browseArtState.artInModal.quantity === null\r\n                    ? 'Out of Stock'\r\n                    : props.browseArtState.artInModal.quantity}\r\n                </h5>\r\n              </div>\r\n              <button\r\n                style={\r\n                  props.loggedInUser.type === 'school' ||\r\n                  props.browseArtState.artInModal.quantity < 1\r\n                    ? { backgroundColor: 'grey', cursor: 'not-allowed' }\r\n                    : null\r\n                }\r\n                onClick={\r\n                  props.loggedInUser.type === 'school' ||\r\n                  props.browseArtState.artInModal.quantity < 1\r\n                    ? null\r\n                    : props.clickBuy\r\n                }\r\n                title={\r\n                  props.loggedInUser.type === 'school'\r\n                    ? 'Schools cannot buy art.'\r\n                    : null\r\n                }\r\n              >\r\n                {props.loggedInUser._id ? 'Buy' : 'Log in to purchase'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledModal>\r\n  );\r\n}\r\n\r\nexport default connect(state => state, actionCreators)(DisplayArt);\r\n","export default function calculateDistance(buyer, school) {\r\n    //poo abbreviation for shit\r\n    var poolat = school.lat;\r\n    var poolng = school.lng;\r\n    var destlat = buyer.lat;\r\n    var destlng = buyer.lng;\r\n\r\n    return Math.sqrt(Math.pow((destlat - poolat),2) + Math.pow((destlng - poolng),2))\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreators from '../store/Actions/actionCreators';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport { StyledModal, openModalStyling } from './ArtViewModalStyling';\r\nimport { Route } from 'react-router-dom';\r\nimport Spinner from '../Components/Spinner';\r\nimport DisplayArt from '../Components/BuyModalComponents/DisplayArtModal';\r\nimport SuccessfulPurchase from '../Components/BuyModalComponents/SuccessfulPurchase';\r\n\r\nfunction ArtViewModal(props) {\r\n    const [requestingPurchase, setRequestingPurchase] = useState(false);\r\n\r\n    const closeModal = e => {\r\n        if (e.target.className === 'close') {\r\n            props.toggleViewModal(!props.browseArtState.artModalOpen)\r\n            props.history.push('/browse')\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    const clickBuy = () => {\r\n        if (props.loggedInUser._id) {\r\n            return props.history.push('/payment')\r\n        }\r\n        else {\r\n            props.history.push('/login');\r\n        }\r\n    }\r\n\r\n    if (requestingPurchase) {\r\n        return (\r\n            <StyledModal >\r\n                <div className='close' style={props.browseArtState.artModalOpen ? openModalStyling : null} onClick={closeModal}>\r\n                    <div style={{ display: 'flex', justifyContent: \"center\", alignItems: 'center' }} className='modal'>\r\n                        <Spinner />\r\n                    </div>\r\n                </div>\r\n            </StyledModal>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Route\r\n                exact path=\"/browse\"\r\n                render={props => <DisplayArt\r\n                    {...props}\r\n                    closeModal={closeModal}\r\n                    clickBuy={clickBuy} />}\r\n            />\r\n            <Route\r\n                exact path=\"/browse/success\"\r\n                render={props => <SuccessfulPurchase\r\n                    {...props}\r\n                    closeModal={closeModal}\r\n                />} />\r\n            <ToastContainer\r\n                position=\"bottom-center\"\r\n                bodyClassName=\"toast\"\r\n                autoClose={3000}\r\n                closeButton={false}\r\n            />\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default connect(state => state, actionCreators)(ArtViewModal);\r\n"],"sourceRoot":""}